<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Pesquisa</title>

    <script>
        var peopleInterviewed = parseInt(prompt("Digite o número de pessoas a serem entrevistadas \n\n PS: Prof, em vez de eu colocar o loop para 45, deixei o usuário inserir o input e decidir o número de pessoas :)"))
        var ageSum = 0;
        var oldest = 0;
        var youngest = 130;
        var terrible = 0;
        var goodAndGreat = 0;
        var man = 0;
        var woman = 0;

        for(i=1; i<=peopleInterviewed; i++){
            var age = prompt("Digite sua idade");
            var sex = prompt("Digite seu sexo (homem ou mulher)").toLowerCase();
            var opinion = prompt("Qual nota você dá para o filme entre 1 e 4");
            ageSum += parseInt(age);
            if(oldest<age){
                oldest = age;
            }
            if(youngest>age){
                youngest = age;
            }
            if(opinion == 1){
                terrible++;
            }
            if(opinion == 3 || opinion == 4){
                goodAndGreat++;
            }
            if(sex == "homem"){
                man++;
            }
            if(sex == "mulher"){
                woman++;
            }
        }

        var ageAverage = ageSum/peopleInterviewed
        var terriblePercentage = (terrible * 100)/peopleInterviewed;
        var goodAndGreatPercentage = (goodAndGreat * 100)/peopleInterviewed;

        alert(
            "A média de idade dos participantes da pesquisa é de " + ageAverage + " anos\n\n" +
            "A idade da pessoa mais velha é: " + oldest + " anos \n\n" +
            "A idade da pessoa mais nova é: " + youngest + " anos \n\n" +
            "Porcentagem de pessoas que votaram \"péssimo\"(1) é de: " + terriblePercentage.toFixed(2) + "% \n\n" +
            "Porcentagem de pessoas que votaram \"bom\"(3) \"ótimo\"(4) é de: " + goodAndGreatPercentage + "%\n\n" +
            "O número de homens participantes da pesquisa é de: " + man + "\n\n" +
            "O número de mulheres participantes da pesquisa é de: " + woman  
        )

    </script>
</head>


<body>
</body>

</html>